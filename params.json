{
  "name": "Refactor",
  "tagline": "Better factor handling for R",
  "body": "[![Project Status: WIP ? Initial development is in progress, but there has not yet been a stable, usable release suitable for the public.](http://www.repostatus.org/badges/latest/wip.svg)](http://www.repostatus.org/#wip) [![Build Status](https://travis-ci.org/jonmcalder/refactor.svg?branch=master)](https://travis-ci.org/jonmcalder/refactor) [![codecov](https://codecov.io/gh/jonmcalder/refactor/branch/master/graph/badge.svg)](https://codecov.io/gh/jonmcalder/refactor)\r\n\r\n------------------------------------------------------------------------\r\n\r\n[![minimal R version](https://img.shields.io/badge/R%3E%3D-3.2.1-6666ff.svg)](https://cran.r-project.org/) [![CRAN\\_Status\\_Badge](http://www.r-pkg.org/badges/version/refactor)](https://cran.r-project.org/package=refactor) [![packageversion](https://img.shields.io/badge/Package%20version-0.1.0.9001-orange.svg?style=flat-square)](commits/master)\r\n\r\n------------------------------------------------------------------------\r\n\r\n[![Last-changedate](https://img.shields.io/badge/last%20change-2016--10--07-yellowgreen.svg)](/commits/master)\r\n\r\n**refactor** is an R package which aims to provide better handling of factors. Though R does have a special data type for factors, it isn't always explicity catered for in commonly used R functions, which can lead to unexpected and undesirable outcomes (e.g. see this [Win-Vector blog post](http://www.win-vector.com/blog/2014/09/factors-are-not-first-class-citizens-in-r/)). This observation formed the inspiration for 're'-factor: which is essentially to 're'-visit functions likely to be used with factor data and where possible to wrap, extend or override them in order to better cater for factor data, or at the very least to provide warnings when the integrity of the data could be compromised by an operation.\r\n\r\nInstallation\r\n------------\r\n\r\nrefactor is not yet available on CRAN but you can easily install the latest development version from github using `devtools`:\r\n\r\n``` r\r\n# install.packages(\"devtools\")\r\ndevtools::install_github(\"jonmcalder/refactor\")\r\n```\r\n\r\nOverview\r\n--------\r\n\r\nBelow are a few examples to illustrate some scenarios in which refactor can improve on base R's handling of factors.\r\n\r\nPlease see the vignette for more details: `vignette(\"refactor\", package = \"refactor\")`\r\n\r\n#### Better factor creation with `cfactor()`\r\n\r\n-   get warnings whenever provided factor levels don't fully match those present in the data\r\n\r\n``` r\r\nstring <- c(\"a\", \"b\", \"c\")\r\nfactor(string, levels = c(\"b\", \"c\", \"d\"))\r\n#> [1] <NA> b    c   \r\n#> Levels: b c d\r\ncfactor(string, levels = c(\"b\", \"c\", \"d\"))\r\n#> Warning: the following levels were empty: \r\n#>  d\r\n#> Warning: the following levels were removed: \r\n#>  a\r\n#> [1] <NA> b    c   \r\n#> Levels: b c d\r\n```\r\n\r\n-   numerical sequences in strings are detected and utilized to obtain correct orderings for factor levels\r\n\r\n``` r\r\nhard_to_detect <- c(\"EUR 21 - EUR 22\", \"EUR 100 - 101\", \"EUR 1 - EUR 10\", \"EUR 11 - EUR 20\")\r\nfactor(hard_to_detect, ordered = TRUE)\r\n#> [1] EUR 21 - EUR 22 EUR 100 - 101   EUR 1 - EUR 10  EUR 11 - EUR 20\r\n#> 4 Levels: EUR 1 - EUR 10 < EUR 100 - 101 < ... < EUR 21 - EUR 22\r\ncfactor(hard_to_detect, ordered = TRUE)\r\n#> [1] EUR 21 - EUR 22 EUR 100 - 101   EUR 1 - EUR 10  EUR 11 - EUR 20\r\n#> 4 Levels: EUR 1 - EUR 10 < EUR 11 - EUR 20 < ... < EUR 100 - 101\r\n```\r\n\r\n#### Extension of the generic `cut` method to handle (discrete) integer data\r\n\r\n-   generate 'natural' intervals for factors when using cut on integer vectors\r\n    -   e.g. `[1,3], [4,6], [7,9]` as opposed to `(0.5, 3.5], (3.5, 6.5], (6.5, 9.5]`\r\n-   label factor levels more intuitively\r\n    -   e.g. `1-3, 4-6, 7-9` as opposed to `[1,3], [4,6], [7,9], or (0,3], (3,6], (6-9]`\r\n\r\n``` r\r\nx_int <- 1:9\r\ncut.default(x_int, breaks = 3)\r\n#> [1] (0.992,3.67] (0.992,3.67] (0.992,3.67] (3.67,6.33]  (3.67,6.33] \r\n#> [6] (3.67,6.33]  (6.33,9.01]  (6.33,9.01]  (6.33,9.01] \r\n#> Levels: (0.992,3.67] (3.67,6.33] (6.33,9.01]\r\ncut(x_int, breaks = 3)\r\n#> [1] 1-3 1-3 1-3 4-6 4-6 4-6 7-9 7-9 7-9\r\n#> Levels: 1-3 4-6 7-9\r\n```\r\n\r\n#### Extension of the generic `cut` method to handle (non-numeric) ordered data\r\n\r\n-   `cut` usually requires numeric data, but refactor extends `cut` to handle other ordered data\r\n\r\n``` r\r\nsome_letters <- factor(c('d','e','f','a','b','c','g','h','i'), ordered = TRUE)\r\ncut(some_letters, breaks = c('a','c','f','i'), include.lowest = TRUE, ordered_result = TRUE)\r\n#> [1] d-f d-f d-f a-c a-c a-c g-i g-i g-i\r\n#> Levels: a-c < d-f < g-i\r\n```\r\n\r\nContributions\r\n-------------\r\n\r\nSuggestions and feedback are most welcome.\r\n\r\nFeel free to [open an issue](https://github.com/jonmcalder/refactor/issues) if you want to request a feature or report a bug, and make a pull request if you can contribute.\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}